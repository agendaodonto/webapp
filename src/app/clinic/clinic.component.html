<div class="app-action">
    <button mat-fab fxShow="false" fxShow.lt-lg>
        <mat-icon>add</mat-icon>
    </button>
</div>
<mat-card class="container">
    <mat-card-title>Clinicas</mat-card-title>
    <div class="app-actions" fxLayoutAlign="end center">
        <a mat-raised-button color="accent" [routerLink]="['/clinicas', 'criar']">Novo</a>
    </div>
    <div fxLayout="column">
        <mat-progress-bar [mode]="'query'" *ngIf="isLoading"></mat-progress-bar>
        <ngx-datatable #clinicTable
            [footerHeight]="50"
            [columnMode]="'force'"
            [rowHeight]="'auto'"
            [rows]="clinics"
            [externalSorting]="true"
            [externalPaging]="true"
            [reorderable]="false"
            [selectionType]="'single'"
            [loadingIndicator]="isLoading"
            (select)="view($event)"
            [limit]="pageLimit"
            [count]="clinicCount"
            [offset]="0"
            (page)="paginate($event)">
            <ngx-datatable-column name="Nome" prop="name" [width]="1">
                <ng-template let-value="value" ngx-datatable-cell-template>
                    {{value}}
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-footer>
                <ng-template
                    ngx-datatable-footer-template
                    let-rowCount="rowCount"
                    let-pageSize="pageSize"
                    let-selectedCount="selectedCount",
                    let-curPage="curPage"
                    let-offset="offset">
                    <app-datatable-pager
                        style="width:100%"
                        [page]="curPage"
                        [size]="pageSize"
                        [count]="rowCount"
                        [hidden]="!((rowCount / pageSize) > 1)"
                        (change)="clinicTable.onFooterPage($event)">
                    </app-datatable-pager>
                </ng-template>
            </ngx-datatable-footer>
        </ngx-datatable>
    </div>
</mat-card>

