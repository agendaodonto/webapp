<div class="container">
  <div fxLayout="row" fxLayoutAlign="center start" fxLayoutGap="20px">
    <mat-card fxFlex="100">
      <mat-card-title>Consultas a confirmar</mat-card-title>
      <div class="app-actions" fxLayoutGap="10px" fxLayoutAlign="end center">
        <button type="button" mat-raised-button color="accent" (click)="setStatus(1)" [appBtnLoader]="isLoading">
          <span *ngIf="!isLoading">Compareceu</span>
        </button>
        <button type="button" mat-raised-button color="warn" (click)="setStatus(2)" [appBtnLoader]="isLoading">
          <span *ngIf="!isLoading">Faltou</span>
        </button>
        <button type="button" mat-raised-button (click)="setStatus(3)" [appBtnLoader]="isLoading">
          <span *ngIf="!isLoading">Cancelou</span>
        </button>
      </div>
      <mat-progress-bar [mode]="'query'" *ngIf="isLoading"></mat-progress-bar>
      <ngx-datatable #pendingSchedulesTable
        [columnMode]="'force'"
        [footerHeight]="50"
        [externalSorting]="true"
        [externalPaging]="true"
        [rows]="pendingSchedules"
        [selected]="selectedSchedules"
        [selectionType]="'multiClick'"
        [limit]="pageLimit"
        [count]="scheduleCount"
        [offset]="0"
        (page)="paginate($event)"
        (sort)="sort($event)">
        <ngx-datatable-column name="Nome" prop="patient.name" [width]="1">
                <ng-template let-value="value" ngx-datatable-cell-template>
                    {{value}}
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Sobrenome" prop="patient.last_name" [width]="1">
                <ng-template let-value="value" ngx-datatable-cell-template>
                    {{value}}
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Data" prop="date" [width]="1">
                <ng-template let-value="value" ngx-datatable-cell-template>
                    {{value | date:'dd/MM/yy H:mm'}}
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-footer>
                <ng-template
                    ngx-datatable-footer-template
                    let-rowCount="rowCount"
                    let-pageSize="pageSize"
                    let-selectedCount="selectedCount",
                    let-curPage="curPage"
                    let-offset="offset">
                    <app-datatable-pager
                        style="width:100%"
                        [page]="curPage"
                        [size]="pageSize"
                        [count]="rowCount"
                        [hidden]="!((rowCount / pageSize) > 1)"
                        (change)="pendingSchedulesTable.onFooterPage($event)">
                    </app-datatable-pager>
                </ng-template>
            </ngx-datatable-footer>
      </ngx-datatable>
      <div fxLayoutGap="10px" fxLayoutAlign="end center">
        <mat-hint>Selecione vários agendamentos utilizando SHIFT</mat-hint>
      </div>
    </mat-card>
    <!--<mat-card fxFlex="30">
      <mat-card-title>Informações de Janeiro</mat-card-title>
    </mat-card>-->
  </div>
  <!--<div fxLayout="row">
    <mat-card fxFlex="100">
      <mat-card-title>Gráficos</mat-card-title>
    </mat-card>
  </div>-->
</div>
